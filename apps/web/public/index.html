<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blaze Sports Intel - Deep South's Sports Intelligence Hub</title>
    <meta name="description" content="Elite sports intelligence platform for MLB, NFL, NBA, and NCAA. Real-time analytics, Vision AI pose detection, and comprehensive data from Friday Night Lights to Sunday in the Show.">

    <!-- Enhanced CSS with comprehensive styling -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .hero-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .header {
            position: relative;
            z-index: 10;
            padding: 2rem 0;
            text-align: center;
        }

        .title {
            font-size: clamp(2.5rem, 8vw, 6rem);
            font-weight: 900;
            background: linear-gradient(135deg, #ffffff 0%, #FFD700 30%, #FF6B35 60%, #C41E3A 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            line-height: 0.9;
        }

        .subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem);
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.4;
        }

        .nav-pills {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .nav-pill {
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 25px;
            color: white;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            backdrop-filter: blur(10px);
        }

        .nav-pill.active, .nav-pill:hover {
            background: linear-gradient(135deg, #C41E3A, #FF6B35);
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(196, 30, 58, 0.4);
            border-color: transparent;
        }

        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 5;
        }

        .performance-stats {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin-bottom: 4rem;
            flex-wrap: wrap;
        }

        .stat-card {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(10, 10, 10, 0.8));
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            backdrop-filter: blur(20px);
            min-width: 150px;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255, 215, 0, 0.2);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #FFD700;
            margin-bottom: 0.5rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 600;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .dashboard-card {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95), rgba(42, 42, 42, 0.95));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 69, 0, 0.2);
            border-radius: 25px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #FF4500, #FFA500, #FFD700);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 60px rgba(255, 69, 0, 0.25);
            border-color: rgba(255, 69, 0, 0.6);
        }

        .dashboard-card:hover::before {
            opacity: 1;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #FFA500;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #FF4500, #FF6B35);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            box-shadow: 0 5px 15px rgba(255, 69, 0, 0.3);
        }

        .vision-container {
            height: 300px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            border: 2px dashed rgba(255, 69, 0, 0.3);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .vision-container:hover {
            border-color: rgba(255, 69, 0, 0.6);
        }

        .vision-placeholder {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .vision-placeholder:hover {
            color: rgba(255, 165, 0, 0.9);
            transform: scale(1.05);
        }

        .video-feed {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
        }

        .pose-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .metrics-overlay {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 10px;
            font-size: 12px;
            color: #39FF14;
            font-family: 'JetBrains Mono', monospace;
            backdrop-filter: blur(10px);
        }

        .biomechanics-panel {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 69, 0, 0.3);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            font-size: 0.9rem;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
        }

        .control-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 25px;
            color: #ffffff;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
        }

        .control-btn:hover, .control-btn.active {
            background: linear-gradient(135deg, #FF4500, #FF6B35);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 69, 0, 0.3);
        }

        .control-btn.stop {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            border: 1px solid rgba(220, 38, 38, 0.5);
        }

        .scores-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 3rem;
            backdrop-filter: blur(10px);
        }

        .score-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border-left: 4px solid #FF4500;
            transition: all 0.3s ease;
        }

        .score-item:hover {
            background: rgba(255, 69, 0, 0.1);
            transform: translateX(5px);
        }

        .team-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .team-logo {
            font-size: 2.5rem;
        }

        .team-name {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .score {
            font-size: 3rem;
            font-weight: 900;
            color: #39FF14;
            font-family: 'JetBrains Mono', monospace;
        }

        .live-indicator {
            background: #dc143c;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            animation: pulse 2s infinite;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }

        .heat-map {
            height: 250px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            margin-bottom: 1.5rem;
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 2px;
            padding: 1rem;
        }

        .heat-point {
            aspect-ratio: 1;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .heat-point:hover {
            transform: scale(1.2);
            z-index: 10;
            box-shadow: 0 5px 15px rgba(255, 69, 0, 0.5);
        }

        .standings-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            overflow: hidden;
        }

        .standings-table th {
            background: linear-gradient(135deg, #FF4500, #FF6B35);
            padding: 1.5rem 1rem;
            text-align: left;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        .standings-table td {
            padding: 1.25rem 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .standings-table tr:hover {
            background: rgba(255, 69, 0, 0.1);
        }

        .player-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border-left: 4px solid #FFD700;
            transition: all 0.3s ease;
        }

        .player-card:hover {
            background: rgba(255, 215, 0, 0.1);
            transform: translateX(5px);
        }

        .player-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FF4500, #FFD700);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: white;
            font-size: 1.5rem;
        }

        .player-info {
            flex: 1;
        }

        .player-name {
            font-weight: 700;
            margin-bottom: 0.25rem;
            font-size: 1.1rem;
        }

        .player-position {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .player-stat {
            font-size: 1.75rem;
            font-weight: 900;
            color: #39FF14;
            font-family: 'JetBrains Mono', monospace;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2.5rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .nav-pills {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .nav-pill {
                padding: 0.75rem 1.5rem;
                font-size: 0.875rem;
            }

            .performance-stats {
                gap: 1rem;
            }

            .score-item {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .vision-container {
                height: 250px;
            }
        }

        /* Loading animation */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-spinner {
            width: 80px;
            height: 80px;
            border: 4px solid transparent;
            border-top: 4px solid #FF4500;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body>
    <canvas id="heroCanvas" class="hero-canvas"></canvas>

    <header class="header">
        <h1 class="title">BLAZE SPORTS INTEL</h1>
        <p class="subtitle">THE DEEP SOUTH'S SPORTS INTELLIGENCE HUB<br>From Friday Night Lights to Sunday in the Show</p>

        <!-- Performance Stats -->
        <div class="performance-stats">
            <div class="stat-card">
                <div class="stat-value">2.8M+</div>
                <div class="stat-label">Data Points</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">94.6%</div>
                <div class="stat-label">Accuracy</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">&lt;100ms</div>
                <div class="stat-label">Latency</div>
            </div>
        </div>

        <nav class="nav-pills">
            <a href="#" class="nav-pill active" data-sport="mlb">‚öæ Baseball</a>
            <a href="#" class="nav-pill" data-sport="nfl">üèà Football</a>
            <a href="#" class="nav-pill" data-sport="nba">üèÄ Basketball</a>
            <a href="#" class="nav-pill" data-sport="ncaa">üèÉ Track & Field</a>
        </nav>
    </header>

    <main class="main-content">
        <!-- Live Scores Section -->
        <section class="scores-section">
            <h2 style="color: #FFA500; margin-bottom: 1.5rem; font-size: 2rem; text-align: center;">üî• Live Scores & Games</h2>
            <div id="live-scores">
                <!-- Dynamic content will be inserted here -->
            </div>
        </section>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Team Performance Dashboard -->
            <div class="dashboard-card">
                <div class="card-header">
                    <h3 class="card-title">Team Performance</h3>
                    <div class="card-icon">üìä</div>
                </div>
                <div class="heat-map" id="performance-heatmap">
                    <!-- Heat map points will be generated here -->
                </div>
                <div style="text-align: center; color: rgba(255, 255, 255, 0.7); margin-top: 1rem;">
                    Interactive Performance Heat Map - Hover over zones for details
                </div>
            </div>

            <!-- Vision AI Analysis -->
            <div class="dashboard-card">
                <div class="card-header">
                    <h3 class="card-title">Vision AI Analysis</h3>
                    <div class="card-icon">üëÅÔ∏è</div>
                </div>
                <div class="vision-container" id="vision-container">
                    <div class="vision-placeholder" id="vision-placeholder">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üìπ</div>
                        <div style="font-size: 1.25rem; font-weight: 600;">Click to activate pose detection</div>
                        <div style="font-size: 0.9rem; margin-top: 0.5rem; color: rgba(255, 255, 255, 0.5);">MediaPipe powered biomechanical analysis</div>
                    </div>
                    <video id="video-feed" class="video-feed" style="display: none;" muted playsinline></video>
                    <canvas id="pose-overlay" class="pose-overlay"></canvas>
                    <div id="metrics-overlay" class="metrics-overlay" style="display: none;">
                        Form: <span id="form-score">0</span>% | Confidence: <span id="confidence">0</span>%
                    </div>
                </div>

                <div id="biomechanics-panel" class="biomechanics-panel" style="display: none;">
                    <h4 style="color: #FFA500; margin-bottom: 1rem; font-size: 1.1rem;">Biomechanical Analysis</h4>
                    <div class="metrics-grid">
                        <div class="metric-row">
                            <span style="color: rgba(255, 255, 255, 0.7);">Hip Rotation:</span>
                            <span style="color: #39FF14;" id="hip-rotation">0¬∞</span>
                        </div>
                        <div class="metric-row">
                            <span style="color: rgba(255, 255, 255, 0.7);">Shoulder Tilt:</span>
                            <span style="color: #FFD700;" id="shoulder-tilt">0¬∞</span>
                        </div>
                        <div class="metric-row">
                            <span style="color: rgba(255, 255, 255, 0.7);">Weight Transfer:</span>
                            <span style="color: #FF6B35;" id="weight-transfer">0%</span>
                        </div>
                        <div class="metric-row">
                            <span style="color: rgba(255, 255, 255, 0.7);">Form Score:</span>
                            <span id="form-score-detail" style="color: #39FF14;">0%</span>
                        </div>
                    </div>
                </div>

                <div class="control-buttons" id="vision-controls">
                    <button class="control-btn active" data-mode="pose_detection">Pose Detection</button>
                    <button class="control-btn" data-mode="form_analysis">Form Analysis</button>
                    <button class="control-btn" data-mode="character_read">Character Assessment</button>
                </div>
            </div>

            <!-- Elite Performers -->
            <div class="dashboard-card">
                <div class="card-header">
                    <h3 class="card-title">Elite Performers</h3>
                    <div class="card-icon">üèÜ</div>
                </div>
                <div id="top-players">
                    <!-- Dynamic content will be inserted here -->
                </div>
            </div>

            <!-- League Standings -->
            <div class="dashboard-card">
                <div class="card-header">
                    <h3 class="card-title">League Standings</h3>
                    <div class="card-icon">üìã</div>
                </div>
                <table class="standings-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Team</th>
                            <th>W</th>
                            <th>L</th>
                            <th>PCT</th>
                            <th>GB</th>
                            <th>Streak</th>
                        </tr>
                    </thead>
                    <tbody id="standings-body">
                        <!-- Dynamic content will be inserted here -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js" crossorigin="anonymous"></script>

    <script>
        // Complete Sports Intelligence Platform JavaScript
        const SPORTS_DATA = {
            mlb: {
                scores: [
                    {
                        home: { name: 'St. Louis Cardinals', logo: 'üî¥', score: 7, city: 'STL' },
                        away: { name: 'Houston Astros', logo: 'üü†', score: 5, city: 'HOU' },
                        inning: '8th',
                        isLive: true,
                        stadium: 'Busch Stadium'
                    },
                    {
                        home: { name: 'Texas Rangers', logo: 'üîµ', score: 4, city: 'TEX' },
                        away: { name: 'Oakland Athletics', logo: 'üü¢', score: 8, city: 'OAK' },
                        inning: 'Final',
                        isLive: false,
                        stadium: 'Globe Life Field'
                    }
                ],
                standings: [
                    { rank: 1, team: 'Houston Astros', wins: 89, losses: 73, pct: 0.549, gb: '-', streak: 'W3' },
                    { rank: 2, team: 'Texas Rangers', wins: 85, losses: 77, pct: 0.525, gb: '4.0', streak: 'L1' },
                    { rank: 3, team: 'Seattle Mariners', wins: 82, losses: 80, pct: 0.506, gb: '7.0', streak: 'W2' },
                    { rank: 4, team: 'Los Angeles Angels', wins: 76, losses: 86, pct: 0.469, gb: '13.0', streak: 'L2' },
                    { rank: 5, team: 'Oakland Athletics', wins: 69, losses: 93, pct: 0.426, gb: '20.0', streak: 'W1' }
                ],
                topPlayers: [
                    { name: 'Yordan Alvarez', position: 'DH', team: 'HOU', stat: '31', statType: 'HR', avg: '.293' },
                    { name: 'Jose Altuve', position: '2B', team: 'HOU', stat: '.311', statType: 'AVG', hr: '15' },
                    { name: 'Corey Seager', position: 'SS', team: 'TEX', stat: '33', statType: 'HR', avg: '.327' },
                    { name: 'Paul Goldschmidt', position: '1B', team: 'STL', stat: '.317', statType: 'AVG', hr: '22' }
                ]
            },
            nfl: {
                scores: [
                    {
                        home: { name: 'Tennessee Titans', logo: '‚öîÔ∏è', score: 17, city: 'TEN' },
                        away: { name: 'Houston Texans', logo: 'üêÇ', score: 24, city: 'HOU' },
                        quarter: 'Final',
                        isLive: false,
                        stadium: 'Nissan Stadium'
                    },
                    {
                        home: { name: 'Dallas Cowboys', logo: '‚≠ê', score: 28, city: 'DAL' },
                        away: { name: 'Green Bay Packers', logo: 'üßÄ', score: 21, city: 'GB' },
                        quarter: '4Q - 2:47',
                        isLive: true,
                        stadium: 'AT&T Stadium'
                    }
                ],
                standings: [
                    { rank: 1, team: 'Houston Texans', wins: 11, losses: 6, pct: 0.647, gb: '-', streak: 'W2' },
                    { rank: 2, team: 'Dallas Cowboys', wins: 10, losses: 7, pct: 0.588, gb: '1.0', streak: 'W1' },
                    { rank: 3, team: 'Tennessee Titans', wins: 6, losses: 11, pct: 0.353, gb: '5.0', streak: 'L3' },
                    { rank: 4, team: 'Green Bay Packers', wins: 9, losses: 8, pct: 0.529, gb: '2.0', streak: 'L1' }
                ],
                topPlayers: [
                    { name: 'Dak Prescott', position: 'QB', team: 'DAL', stat: '3,895', statType: 'YDS', tds: '24' },
                    { name: 'C.J. Stroud', position: 'QB', team: 'HOU', stat: '4,108', statType: 'YDS', tds: '28' },
                    { name: 'Derrick Henry', position: 'RB', team: 'TEN', stat: '1,234', statType: 'YDS', tds: '12' },
                    { name: 'Micah Parsons', position: 'LB', team: 'DAL', stat: '14.0', statType: 'SACKS', tackles: '89' }
                ]
            },
            nba: {
                scores: [
                    {
                        home: { name: 'Memphis Grizzlies', logo: 'üêª', score: 118, city: 'MEM' },
                        away: { name: 'San Antonio Spurs', logo: 'üèÄ', score: 112, city: 'SAS' },
                        quarter: 'Final',
                        isLive: false,
                        arena: 'FedEx Forum'
                    },
                    {
                        home: { name: 'Dallas Mavericks', logo: 'üê¥', score: 105, city: 'DAL' },
                        away: { name: 'Houston Rockets', logo: 'üöÄ', score: 98, city: 'HOU' },
                        quarter: '3Q - 5:23',
                        isLive: true,
                        arena: 'American Airlines Center'
                    }
                ],
                standings: [
                    { rank: 1, team: 'Denver Nuggets', wins: 42, losses: 28, pct: 0.600, gb: '-', streak: 'W3' },
                    { rank: 2, team: 'Memphis Grizzlies', wins: 38, losses: 32, pct: 0.543, gb: '4.0', streak: 'W1' },
                    { rank: 3, team: 'Dallas Mavericks', wins: 35, losses: 35, pct: 0.500, gb: '7.0', streak: 'W2' },
                    { rank: 4, team: 'Houston Rockets', wins: 33, losses: 37, pct: 0.471, gb: '9.0', streak: 'L1' },
                    { rank: 5, team: 'San Antonio Spurs', wins: 18, losses: 52, pct: 0.257, gb: '24.0', streak: 'L2' }
                ],
                topPlayers: [
                    { name: 'Luka Donƒçiƒá', position: 'PG', team: 'DAL', stat: '33.2', statType: 'PPG', ast: '8.9' },
                    { name: 'Victor Wembanyama', position: 'C', team: 'SAS', stat: '21.8', statType: 'PPG', blk: '3.5' },
                    { name: 'Ja Morant', position: 'PG', team: 'MEM', stat: '27.1', statType: 'PPG', ast: '8.2' },
                    { name: 'Alperen ≈ûeng√ºn', position: 'C', team: 'HOU', stat: '13.1', statType: 'PPG', ast: '7.2' }
                ]
            },
            ncaa: {
                scores: [
                    {
                        home: { name: 'Texas Longhorns', logo: 'ü§ò', score: 24, city: 'TEX' },
                        away: { name: 'Oklahoma Sooners', logo: 'üå™Ô∏è', score: 17, city: 'OU' },
                        quarter: 'Final',
                        isLive: false,
                        stadium: 'Darrell K Royal Stadium'
                    }
                ],
                standings: [
                    { rank: 1, team: 'Texas Longhorns', wins: 12, losses: 1, pct: 0.923, gb: '-', streak: 'W8' },
                    { rank: 2, team: 'Oklahoma Sooners', wins: 9, losses: 4, pct: 0.692, gb: '3.0', streak: 'L1' },
                    { rank: 3, team: 'TCU Horned Frogs', wins: 8, losses: 5, pct: 0.615, gb: '4.0', streak: 'W2' },
                    { rank: 4, team: 'Baylor Bears', wins: 7, losses: 6, pct: 0.538, gb: '5.0', streak: 'L2' }
                ],
                topPlayers: [
                    { name: 'Quinn Ewers', position: 'QB', team: 'TEX', stat: '3,789', statType: 'YDS', tds: '31' },
                    { name: 'Bijan Robinson', position: 'RB', team: 'TEX', stat: '1,756', statType: 'YDS', tds: '18' },
                    { name: 'Dillon Gabriel', position: 'QB', team: 'OU', stat: '3,445', statType: 'YDS', tds: '28' },
                    { name: 'Eric Gray', position: 'RB', team: 'OU', stat: '1,289', statType: 'YDS', tds: '14' }
                ]
            }
        };

        let currentSport = 'mlb';
        let visionActive = false;
        let poseDetection = null;
        let camera = null;
        let poseMetrics = {
            hipRotation: 0,
            shoulderTilt: 0,
            weightTransfer: 0,
            formScore: 100,
            confidence: 0
        };

        // Particle System
        let particles = [];
        let animationId;

        function initParticles() {
            const canvas = document.getElementById('heroCanvas');
            const ctx = canvas.getContext('2d');

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            particles = [];
            for (let i = 0; i < 250; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    size: Math.random() * 5 + 1,
                    opacity: Math.random() * 0.8 + 0.2,
                    hue: Math.random() * 60 + 10
                });
            }

            function animate() {
                ctx.fillStyle = 'rgba(10, 10, 10, 0.03)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                particles.forEach(particle => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;

                    if (particle.x <= 0 || particle.x >= canvas.width) particle.vx *= -1;
                    if (particle.y <= 0 || particle.y >= canvas.height) particle.vy *= -1;

                    const gradient = ctx.createRadialGradient(
                        particle.x, particle.y, 0,
                        particle.x, particle.y, particle.size * 6
                    );
                    gradient.addColorStop(0, `hsla(${particle.hue}, 100%, 60%, ${particle.opacity})`);
                    gradient.addColorStop(1, `hsla(${particle.hue}, 100%, 20%, 0)`);

                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    ctx.fill();
                });

                // Enhanced connections
                ctx.strokeStyle = 'rgba(255, 107, 53, 0.15)';
                ctx.lineWidth = 1;

                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const p1 = particles[i];
                        const p2 = particles[j];
                        const distance = Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);

                        if (distance < 150) {
                            ctx.globalAlpha = 1 - distance / 150;
                            ctx.beginPath();
                            ctx.moveTo(p1.x, p1.y);
                            ctx.lineTo(p2.x, p2.y);
                            ctx.stroke();
                        }
                    }
                }

                ctx.globalAlpha = 1;
                animationId = requestAnimationFrame(animate);
            }

            animate();
        }

        // Enhanced Vision AI Functions with MediaPipe
        async function activateVisionAI() {
            try {
                const video = document.getElementById('video-feed');
                const canvas = document.getElementById('pose-overlay');

                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { width: 640, height: 480, facingMode: 'user' }
                });

                video.srcObject = stream;
                await video.play();

                video.style.display = 'block';
                document.getElementById('vision-placeholder').style.display = 'none';
                document.getElementById('metrics-overlay').style.display = 'block';
                document.getElementById('biomechanics-panel').style.display = 'block';

                // Update control buttons
                const controls = document.getElementById('vision-controls');
                controls.innerHTML = '<button class="control-btn stop" onclick="stopVisionAI()">‚èπÔ∏è Stop Analysis</button>';

                visionActive = true;

                // Initialize MediaPipe Pose Detection
                if (window.Pose && window.Camera) {
                    initializeMediaPipePose(video, canvas);
                } else {
                    // Fallback to simulation
                    initializeSimulatedPose();
                }

            } catch (error) {
                console.error('Camera access error:', error);
                alert('Camera access denied. Please enable camera permissions for pose detection.');
            }
        }

        function initializeMediaPipePose(video, canvas) {
            try {
                const pose = new window.Pose({
                    locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/pose/${file}`
                });

                pose.setOptions({
                    modelComplexity: 1,
                    smoothLandmarks: true,
                    enableSegmentation: false,
                    smoothSegmentation: true,
                    minDetectionConfidence: 0.5,
                    minTrackingConfidence: 0.5
                });

                pose.onResults((results) => {
                    const ctx = canvas.getContext('2d');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;

                    ctx.clearRect(0, 0, canvas.width, canvas.height);

                    if (results.poseLandmarks) {
                        drawPoseLandmarks(ctx, results.poseLandmarks, canvas.width, canvas.height);
                        calculateRealBiomechanics(results.poseLandmarks);
                    }
                });

                camera = new window.Camera(video, {
                    onFrame: async () => {
                        if (visionActive) {
                            await pose.send({ image: video });
                        }
                    },
                    width: 640,
                    height: 480
                });

                camera.start();
            } catch (error) {
                console.warn('MediaPipe initialization failed, using simulation:', error);
                initializeSimulatedPose();
            }
        }

        function drawPoseLandmarks(ctx, landmarks, width, height) {
            // Draw pose skeleton
            ctx.strokeStyle = '#FF4500';
            ctx.fillStyle = '#FF6B35';
            ctx.lineWidth = 3;

            // Key connections for pose visualization
            const connections = [
                [11, 13], [13, 15], // Left arm
                [12, 14], [14, 16], // Right arm
                [23, 25], [25, 27], [27, 29], [29, 31], // Left leg
                [24, 26], [26, 28], [28, 30], [30, 32], // Right leg
                [11, 12], // Shoulders
                [23, 24], // Hips
                [11, 23], [12, 24] // Torso
            ];

            // Draw connections
            connections.forEach(([start, end]) => {
                const startPoint = landmarks[start];
                const endPoint = landmarks[end];
                if (startPoint && endPoint && startPoint.visibility > 0.5 && endPoint.visibility > 0.5) {
                    ctx.beginPath();
                    ctx.moveTo(startPoint.x * width, startPoint.y * height);
                    ctx.lineTo(endPoint.x * width, endPoint.y * height);
                    ctx.stroke();
                }
            });

            // Draw landmark points
            landmarks.forEach((landmark, index) => {
                if (landmark.visibility > 0.5) {
                    ctx.beginPath();
                    ctx.arc(landmark.x * width, landmark.y * height, 6, 0, 2 * Math.PI);
                    ctx.fill();
                }
            });
        }

        function calculateRealBiomechanics(landmarks) {
            if (!landmarks || landmarks.length < 33) return;

            try {
                // Hip rotation calculation
                const leftHip = landmarks[23];
                const rightHip = landmarks[24];
                const hipRotation = Math.atan2(rightHip.y - leftHip.y, rightHip.x - leftHip.x) * (180 / Math.PI);

                // Shoulder alignment
                const leftShoulder = landmarks[11];
                const rightShoulder = landmarks[12];
                const shoulderTilt = Math.atan2(rightShoulder.y - leftShoulder.y, rightShoulder.x - leftShoulder.x) * (180 / Math.PI);

                // Weight distribution based on ankle positions
                const leftAnkle = landmarks[27];
                const rightAnkle = landmarks[28];
                const weightTransfer = Math.round(((leftAnkle.y - rightAnkle.y) * 50) + 50);

                // Form score based on posture alignment
                const alignment = Math.abs(hipRotation - shoulderTilt);
                const formScore = Math.max(60, Math.min(100, 100 - alignment * 1.5));

                // Confidence based on landmark visibility
                const visibleLandmarks = landmarks.filter(l => l.visibility > 0.5).length;
                const confidence = Math.round((visibleLandmarks / 33) * 100);

                poseMetrics = {
                    hipRotation: Math.round(hipRotation),
                    shoulderTilt: Math.round(shoulderTilt),
                    weightTransfer: Math.max(0, Math.min(100, weightTransfer)),
                    formScore: Math.round(formScore),
                    confidence: confidence
                };

                updatePoseMetricsDisplay();

            } catch (error) {
                console.warn('Biomechanics calculation error:', error);
            }
        }

        function initializeSimulatedPose() {
            const updateMetrics = () => {
                if (!visionActive) return;

                poseMetrics.hipRotation = Math.round(30 + Math.sin(Date.now() * 0.001) * 20);
                poseMetrics.shoulderTilt = Math.round(15 + Math.cos(Date.now() * 0.0008) * 10);
                poseMetrics.weightTransfer = Math.round(70 + Math.sin(Date.now() * 0.0012) * 15);
                poseMetrics.formScore = Math.round(85 + Math.sin(Date.now() * 0.0005) * 10);
                poseMetrics.confidence = Math.round(75 + Math.cos(Date.now() * 0.0015) * 20);

                updatePoseMetricsDisplay();
                setTimeout(updateMetrics, 100);
            };
            updateMetrics();
        }

        function updatePoseMetricsDisplay() {
            document.getElementById('form-score').textContent = poseMetrics.formScore;
            document.getElementById('confidence').textContent = poseMetrics.confidence;
            document.getElementById('hip-rotation').textContent = poseMetrics.hipRotation + '¬∞';
            document.getElementById('shoulder-tilt').textContent = poseMetrics.shoulderTilt + '¬∞';
            document.getElementById('weight-transfer').textContent = poseMetrics.weightTransfer + '%';
            document.getElementById('form-score-detail').textContent = poseMetrics.formScore + '%';
            document.getElementById('form-score-detail').style.color = poseMetrics.formScore > 85 ? '#39FF14' : poseMetrics.formScore > 70 ? '#FFA500' : '#FF4500';
        }

        function stopVisionAI() {
            const video = document.getElementById('video-feed');
            if (video.srcObject) {
                video.srcObject.getTracks().forEach(track => track.stop());
                video.srcObject = null;
            }

            if (camera) {
                camera.stop();
                camera = null;
            }

            video.style.display = 'none';
            document.getElementById('vision-placeholder').style.display = 'block';
            document.getElementById('metrics-overlay').style.display = 'none';
            document.getElementById('biomechanics-panel').style.display = 'none';

            // Reset control buttons
            const controls = document.getElementById('vision-controls');
            controls.innerHTML = `
                <button class="control-btn active" data-mode="pose_detection">Pose Detection</button>
                <button class="control-btn" data-mode="form_analysis">Form Analysis</button>
                <button class="control-btn" data-mode="character_read">Character Assessment</button>
            `;

            visionActive = false;
        }

        // Sport switching and content updates
        function switchSport(sport) {
            currentSport = sport;

            // Update nav pills
            document.querySelectorAll('.nav-pill').forEach(pill => pill.classList.remove('active'));
            document.querySelector(`[data-sport="${sport}"]`).classList.add('active');

            updateContent();
        }

        function updateContent() {
            const data = SPORTS_DATA[currentSport];

            updateLiveScores(data.scores);
            updateStandings(data.standings);
            updateTopPlayers(data.topPlayers);
        }

        function updateLiveScores(scores) {
            const container = document.getElementById('live-scores');
            container.innerHTML = scores.map(game => `
                <div class="score-item">
                    <div class="team-info">
                        <span class="team-logo">${game.away.logo}</span>
                        <div>
                            <div class="team-name">${game.away.name}</div>
                            <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">${game.away.city}</div>
                        </div>
                    </div>
                    <div class="score">${game.away.score}</div>
                    <div style="text-align: center; color: rgba(255,255,255,0.8);">
                        <div style="margin-bottom: 0.5rem;">@</div>
                        <div style="font-size: 0.875rem;">${game.inning || game.quarter}</div>
                        ${game.isLive ? '<div class="live-indicator">LIVE</div>' : ''}
                    </div>
                    <div class="score">${game.home.score}</div>
                    <div class="team-info">
                        <span class="team-logo">${game.home.logo}</span>
                        <div>
                            <div class="team-name">${game.home.name}</div>
                            <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">${game.home.city}</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateStandings(standings) {
            const tbody = document.getElementById('standings-body');
            tbody.innerHTML = standings.map(team => {
                const streakColor = team.streak?.startsWith('W') ? '#00FF41' : '#DC143C';
                return `
                    <tr>
                        <td style="font-weight: 900; color: #FFA500; font-size: 1.25rem;">${team.rank}</td>
                        <td style="font-weight: 600;">${team.team}</td>
                        <td>${team.wins}</td>
                        <td>${team.losses}</td>
                        <td style="color: #FFA500; font-weight: 700;">${team.pct.toFixed(3)}</td>
                        <td>${team.gb}</td>
                        <td style="color: ${streakColor}; font-weight: 700;">${team.streak}</td>
                    </tr>
                `;
            }).join('');
        }

        function updateTopPlayers(players) {
            const container = document.getElementById('top-players');
            container.innerHTML = players.map(player => `
                <div class="player-card">
                    <div class="player-avatar">${player.name.split(' ').map(n => n[0]).join('')}</div>
                    <div class="player-info">
                        <div class="player-name">${player.name}</div>
                        <div class="player-position">${player.position} ‚Ä¢ ${player.team}</div>
                    </div>
                    <div style="text-align: right;">
                        <div class="player-stat">${player.stat}</div>
                        <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">${player.statType}</div>
                    </div>
                </div>
            `).join('');
        }

        function generateHeatMap() {
            const heatmap = document.getElementById('performance-heatmap');
            heatmap.innerHTML = '';

            for (let i = 0; i < 100; i++) {
                const point = document.createElement('div');
                point.className = 'heat-point';
                const intensity = Math.random();
                const hue = 20 - (intensity * 20);
                const lightness = 50 + (intensity * 30);
                point.style.backgroundColor = `hsl(${hue}, 100%, ${lightness}%)`;
                point.title = `Zone ${i + 1}: ${Math.round(intensity * 100)}% activity`;
                heatmap.appendChild(point);
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            initParticles();
            updateContent();
            generateHeatMap();

            // Vision AI placeholder click
            document.getElementById('vision-placeholder').addEventListener('click', activateVisionAI);

            // Navigation
            document.querySelectorAll('.nav-pill').forEach(pill => {
                pill.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchSport(e.target.dataset.sport);
                });
            });

            // Vision controls
            document.addEventListener('click', (e) => {
                if (e.target.matches('[data-mode]')) {
                    document.querySelectorAll('[data-mode]').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                }
            });
        });

        // Responsive canvas resize
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('heroCanvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Make functions available globally
        window.activateVisionAI = activateVisionAI;
        window.stopVisionAI = stopVisionAI;
        window.switchSport = switchSport;
    </script>
</body>
</html>