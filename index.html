<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blaze Sports Intel - Advanced sports analytics and AI-powered performance analysis for baseball, football, basketball, and track & field in the Deep South">
    <meta name="keywords" content="sports analytics, AI sports analysis, baseball analytics, football analytics, basketball analytics, track and field, performance analysis, Deep South sports">
    <meta name="author" content="Blaze Sports Intel">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#FF4500">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- Performance Hints -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"></noscript>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://blazesportsintel.com/">
    <meta property="og:title" content="Blaze Sports Intel - The Deep South's Sports Intelligence Hub">
    <meta property="og:description" content="Advanced sports analytics and AI-powered performance analysis for baseball, football, basketball, and track & field">
    <meta property="og:image" content="https://blazesportsintel.com/assets/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://blazesportsintel.com/">
    <meta property="twitter:title" content="Blaze Sports Intel - The Deep South's Sports Intelligence Hub">
    <meta property="twitter:description" content="Advanced sports analytics and AI-powered performance analysis for baseball, football, basketball, and track & field">
    <meta property="twitter:image" content="https://blazesportsintel.com/assets/twitter-image.jpg">

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <title>Blaze Sports Intel - The Deep South's Sports Intelligence Hub</title>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Blaze Sports Intel",
        "description": "Advanced sports analytics and AI-powered performance analysis for baseball, football, basketball, and track & field in the Deep South",
        "url": "https://blazesportsintel.com",
        "logo": "https://blazesportsintel.com/assets/logo.png",
        "sameAs": [
            "https://twitter.com/blazesportsintel",
            "https://facebook.com/blazesportsintel",
            "https://linkedin.com/company/blazesportsintel"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer service",
            "email": "info@blazesportsintel.com"
        },
        "offers": {
            "@type": "Offer",
            "description": "Sports analytics and AI-powered performance analysis services",
            "category": "Sports Technology"
        }
    }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
            color: white;
            overflow-x: hidden;
        }

        .hero-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .header {
            position: relative;
            z-index: 10;
            padding: 2rem 0;
            text-align: center;
        }

        .title {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(135deg, #FF4500 0%, #FFA500 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .subtitle {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
        }

        .nav-pills {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
        }

        .nav-pill {
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 25px;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-pill.active, .nav-pill:hover {
            background: linear-gradient(135deg, #FF4500, #FF6B35);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 69, 0, 0.3);
        }

        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 5;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .dashboard-card {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9), rgba(42, 42, 42, 0.9));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255, 69, 0, 0.2);
            border-color: rgba(255, 69, 0, 0.6);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #FFA500;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FF4500, #FF6B35);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-box {
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 10px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 900;
            color: #39FF14;
            display: block;
        }

        .stat-label {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .vision-container {
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            border: 2px dashed rgba(255, 69, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .vision-placeholder {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
        }

        .vision-placeholder:hover {
            color: rgba(255, 165, 0, 0.8);
        }

        .video-feed {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .pose-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .metrics-overlay {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 8px;
            border-radius: 5px;
            font-size: 12px;
            color: #39FF14;
        }

        .biomechanics-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 69, 0, 0.3);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            font-size: 0.875rem;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
        }

        .control-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 20px;
            color: #ffffff;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn:hover, .control-btn.active {
            background: linear-gradient(135deg, #FF4500, #FF6B35);
            transform: translateY(-1px);
        }

        .control-btn.stop {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            border: 1px solid rgba(220, 38, 38, 0.5);
        }

        .scores-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .score-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 4px solid #FF4500;
        }

        .team-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .team-logo {
            font-size: 2rem;
        }

        .team-name {
            font-weight: 600;
        }

        .score {
            font-size: 2rem;
            font-weight: 900;
            color: #39FF14;
        }

        .live-indicator {
            background: #dc143c;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .standings-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .standings-table th {
            background: linear-gradient(135deg, #FF4500, #FF6B35);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        .standings-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .standings-table tr:hover {
            background: rgba(255, 69, 0, 0.1);
        }

        .player-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 4px solid #FFD700;
        }

        .player-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FF4500, #FFD700);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: white;
        }

        .player-info {
            flex: 1;
        }

        .player-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .player-position {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.875rem;
        }

        .player-stat {
            font-size: 1.25rem;
            font-weight: 900;
            color: #39FF14;
        }

        .heat-map {
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .heat-point {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .heat-point:hover {
            transform: scale(1.5);
        }

        .mobile-section {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9), rgba(42, 42, 42, 0.9));
            border-radius: 20px;
            margin-bottom: 3rem;
        }

        .mobile-mockup {
            width: 200px;
            height: 400px;
            background: linear-gradient(135deg, #1a1a1a, #333333);
            border-radius: 25px;
            margin: 0 auto 2rem;
            border: 8px solid #333;
            position: relative;
            overflow: hidden;
        }

        .mobile-screen {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #FF4500, #FFA500);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        /* Screen reader only content */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles for accessibility */
        .nav-pill:focus,
        .control-btn:focus,
        .vision-placeholder:focus {
            outline: 2px solid #FFA500;
            outline-offset: 2px;
        }

        /* Skip link for keyboard navigation */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #FF4500;
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 4px;
            z-index: 1000;
        }

        .skip-link:focus {
            top: 6px;
        }

        /* Keyboard navigation styles */
        .keyboard-navigation .nav-pill:focus,
        .keyboard-navigation .control-btn:focus,
        .keyboard-navigation .vision-placeholder:focus {
            outline: 2px solid #FFA500;
            outline-offset: 2px;
            box-shadow: 0 0 0 4px rgba(255, 165, 0, 0.3);
        }

        /* Improved focus styles for better accessibility */
        .keyboard-navigation *:focus {
            outline: 2px solid #FFA500;
            outline-offset: 2px;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2.5rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .nav-pills {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .nav-pill {
                padding: 0.75rem 1.5rem;
                font-size: 0.875rem;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <canvas id="heroCanvas" class="hero-canvas" aria-hidden="true"></canvas>

    <header class="header" role="banner">
        <h1 class="title">BLAZE SPORTS INTEL</h1>
        <p class="subtitle">The Deep South's Sports Intelligence Hub • From Friday Night Lights to Sunday in the Show</p>

        <nav class="nav-pills" role="navigation" aria-label="Sport selection">
            <a href="#baseball" class="nav-pill active" onclick="switchSport('mlb')" aria-current="page" role="tab" aria-selected="true">
                <span aria-hidden="true">⚾</span> Baseball
            </a>
            <a href="#football" class="nav-pill" onclick="switchSport('nfl')" role="tab" aria-selected="false">
                <span aria-hidden="true">🏈</span> Football
            </a>
            <a href="#basketball" class="nav-pill" onclick="switchSport('nba')" role="tab" aria-selected="false">
                <span aria-hidden="true">🏀</span> Basketball
            </a>
            <a href="#track-field" class="nav-pill" onclick="switchSport('ncaa')" role="tab" aria-selected="false">
                <span aria-hidden="true">🏃</span> Track & Field
            </a>
        </nav>
    </header>

    <main id="main-content" class="main-content" role="main">
        <!-- Live Scores Section -->
        <section class="scores-section" aria-labelledby="live-scores-heading">
            <h2 id="live-scores-heading" style="color: #FFA500; margin-bottom: 1rem;">
                <span aria-hidden="true">🔥</span> Live Scores & Games
            </h2>
            <div id="live-scores" role="region" aria-live="polite" aria-label="Live sports scores">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid" role="region" aria-label="Sports analytics dashboard">
            <!-- Team Performance Dashboard -->
            <article class="dashboard-card" role="article" aria-labelledby="performance-heading">
                <header class="card-header">
                    <h3 id="performance-heading" class="card-title">Team Performance Analytics</h3>
                    <div class="card-icon" aria-hidden="true">📊</div>
                </header>
                <div class="stats-grid" role="group" aria-label="Team performance statistics">
                    <div class="stat-box" role="img" aria-label="Win percentage: 73.5%">
                        <span class="stat-value" id="winPct" aria-label="73.5 percent">0.735</span>
                        <span class="stat-label">Win %</span>
                    </div>
                    <div class="stat-box" role="img" aria-label="Division rank: 2nd">
                        <span class="stat-value" id="teamRank" aria-label="2nd place">2nd</span>
                        <span class="stat-label">Division</span>
                    </div>
                    <div class="stat-box" role="img" aria-label="Current streak: 5 wins">
                        <span class="stat-value" id="streak" aria-label="5 wins">W5</span>
                        <span class="stat-label">Streak</span>
                    </div>
                </div>
                <div class="heat-map" id="performance-heatmap" role="img" aria-label="Performance heat map visualization">
                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: rgba(255,255,255,0.6);">
                        <span aria-hidden="true">📈</span> Performance Heat Map
                    </div>
                </div>
            </article>

            <!-- Vision AI Analysis -->
            <article class="dashboard-card" role="article" aria-labelledby="vision-heading">
                <header class="card-header">
                    <h3 id="vision-heading" class="card-title">Vision AI Analysis</h3>
                    <div class="card-icon" aria-hidden="true">👁️</div>
                </header>
                <div class="vision-container" id="vision-container" role="region" aria-label="AI-powered pose detection and analysis">
                    <button class="vision-placeholder" onclick="activateVisionAI()" aria-label="Activate camera for pose detection and analysis">
                        <div style="font-size: 3rem; margin-bottom: 1rem;" aria-hidden="true">📹</div>
                        <div>Click to activate pose detection</div>
                    </button>
                    <video id="video-feed" class="video-feed" style="display: none;" muted playsinline aria-label="Live camera feed for pose analysis"></video>
                    <canvas id="pose-overlay" class="pose-overlay" aria-hidden="true"></canvas>
                    <div id="metrics-overlay" class="metrics-overlay" style="display: none;" role="status" aria-live="polite" aria-label="Real-time analysis metrics">
                        Form: <span id="form-score">0</span>% | Confidence: <span id="confidence">0</span>%
                    </div>
                </div>

                <div id="biomechanics-panel" class="biomechanics-panel" style="display: none;" role="region" aria-labelledby="biomechanics-heading">
                    <h4 id="biomechanics-heading" style="color: #FFA500; margin-bottom: 0.5rem; font-size: 1rem;">Biomechanical Analysis</h4>
                    <div class="metrics-grid" role="group" aria-label="Biomechanical analysis metrics">
                        <div class="metric-row">
                            <span style="color: rgba(255, 255, 255, 0.7);">Hip Rotation:</span>
                            <span style="color: #39FF14;" id="hip-rotation" aria-label="Hip rotation angle">0°</span>
                        </div>
                        <div class="metric-row">
                            <span style="color: rgba(255, 255, 255, 0.7);">Shoulder Tilt:</span>
                            <span style="color: #FFD700;" id="shoulder-tilt" aria-label="Shoulder tilt angle">0°</span>
                        </div>
                        <div class="metric-row">
                            <span style="color: rgba(255, 255, 255, 0.7);">Weight Transfer:</span>
                            <span style="color: #FF6B35;" id="weight-transfer" aria-label="Weight transfer percentage">0%</span>
                        </div>
                        <div class="metric-row">
                            <span style="color: rgba(255, 255, 255, 0.7);">Form Score:</span>
                            <span id="form-score-detail" style="color: #39FF14;" aria-label="Overall form score">0%</span>
                        </div>
                    </div>
                </div>

                <div class="control-buttons" id="vision-controls" role="group" aria-label="Vision AI analysis modes">
                    <button class="control-btn active" onclick="setVisionMode('pose_detection')" aria-pressed="true" aria-describedby="pose-desc">Pose Detection</button>
                    <button class="control-btn" onclick="setVisionMode('form_analysis')" aria-pressed="false" aria-describedby="form-desc">Form Analysis</button>
                    <button class="control-btn" onclick="setVisionMode('character_read')" aria-pressed="false" aria-describedby="character-desc">Character Read</button>
                </div>
                <div id="pose-desc" class="sr-only">Analyze body pose and movement patterns</div>
                <div id="form-desc" class="sr-only">Evaluate athletic form and technique</div>
                <div id="character-desc" class="sr-only">Read player character and mental state</div>
            </article>

            <!-- Top Players -->
            <article class="dashboard-card" role="article" aria-labelledby="players-heading">
                <header class="card-header">
                    <h3 id="players-heading" class="card-title">Elite Performers</h3>
                    <div class="card-icon" aria-hidden="true">🏆</div>
                </header>
                <div id="top-players" role="list" aria-label="Top performing players">
                    <!-- Dynamic content -->
                </div>
            </article>

            <!-- Standings -->
            <article class="dashboard-card" role="article" aria-labelledby="standings-heading">
                <header class="card-header">
                    <h3 id="standings-heading" class="card-title">League Standings</h3>
                    <div class="card-icon" aria-hidden="true">📋</div>
                </header>
                <div class="table-container" role="region" aria-label="League standings table">
                    <table class="standings-table" role="table" aria-label="Current league standings">
                        <thead>
                            <tr role="row">
                                <th scope="col" role="columnheader">Rank</th>
                                <th scope="col" role="columnheader">Team</th>
                                <th scope="col" role="columnheader">W</th>
                                <th scope="col" role="columnheader">L</th>
                                <th scope="col" role="columnheader">PCT</th>
                                <th scope="col" role="columnheader">GB</th>
                                <th scope="col" role="columnheader">Streak</th>
                            </tr>
                        </thead>
                        <tbody id="standings-body" role="rowgroup">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </article>
        </div>

        <!-- Mobile App Section -->
        <section class="mobile-section" aria-labelledby="mobile-heading">
            <h2 id="mobile-heading" style="color: #FFA500; margin-bottom: 1rem;">
                <span aria-hidden="true">📱</span> Mobile App Preview
            </h2>
            <div class="mobile-mockup" role="img" aria-label="Mobile app interface preview">
                <div class="mobile-screen" aria-hidden="true">📲</div>
            </div>
            <h3 style="color: #FFA500; margin-bottom: 1rem;">Blaze Vision Mobile</h3>
            <p style="color: rgba(255, 255, 255, 0.7);">
                Real-time pose detection and performance analysis on iOS and Android
            </p>
        </section>
    </main>

    <script>
        // Live Sports Data
        const SPORTS_DATA = {
            mlb: {
                scores: [
                    {
                        home: { name: 'St. Louis Cardinals', logo: '🔴', score: 7, city: 'STL' },
                        away: { name: 'Houston Astros', logo: '🟠', score: 5, city: 'HOU' },
                        inning: '8th',
                        isLive: true,
                        stadium: 'Busch Stadium'
                    },
                    {
                        home: { name: 'Texas Rangers', logo: '🔵', score: 4, city: 'TEX' },
                        away: { name: 'Oakland Athletics', logo: '🟢', score: 8, city: 'OAK' },
                        inning: 'Final',
                        isLive: false,
                        stadium: 'Globe Life Field'
                    }
                ],
                standings: [
                    { rank: 1, team: 'Houston Astros', wins: 89, losses: 73, pct: 0.549, gb: '-', streak: 'W3' },
                    { rank: 2, team: 'Texas Rangers', wins: 85, losses: 77, pct: 0.525, gb: '4.0', streak: 'L1' },
                    { rank: 3, team: 'Seattle Mariners', wins: 82, losses: 80, pct: 0.506, gb: '7.0', streak: 'W2' },
                    { rank: 4, team: 'Los Angeles Angels', wins: 76, losses: 86, pct: 0.469, gb: '13.0', streak: 'L2' },
                    { rank: 5, team: 'Oakland Athletics', wins: 69, losses: 93, pct: 0.426, gb: '20.0', streak: 'W1' }
                ],
                topPlayers: [
                    { name: 'Yordan Alvarez', position: 'DH', team: 'HOU', stat: '31', statType: 'HR', avg: '.293' },
                    { name: 'Jose Altuve', position: '2B', team: 'HOU', stat: '.311', statType: 'AVG', hr: '15' },
                    { name: 'Corey Seager', position: 'SS', team: 'TEX', stat: '33', statType: 'HR', avg: '.327' },
                    { name: 'Nolan Goldschmidt', position: '1B', team: 'STL', stat: '.317', statType: 'AVG', hr: '22' }
                ]
            },
            nfl: {
                scores: [
                    {
                        home: { name: 'Tennessee Titans', logo: '⚔️', score: 17, city: 'TEN' },
                        away: { name: 'Houston Texans', logo: '🐂', score: 24, city: 'HOU' },
                        quarter: 'Final',
                        isLive: false,
                        stadium: 'Nissan Stadium'
                    },
                    {
                        home: { name: 'Dallas Cowboys', logo: '⭐', score: 28, city: 'DAL' },
                        away: { name: 'Green Bay Packers', logo: '🧀', score: 21, city: 'GB' },
                        quarter: '4Q - 2:47',
                        isLive: true,
                        stadium: 'AT&T Stadium'
                    }
                ],
                standings: [
                    { rank: 1, team: 'Houston Texans', wins: 11, losses: 6, pct: 0.647, gb: '-', streak: 'W2' },
                    { rank: 2, team: 'Dallas Cowboys', wins: 10, losses: 7, pct: 0.588, gb: '1.0', streak: 'W1' },
                    { rank: 3, team: 'Tennessee Titans', wins: 6, losses: 11, pct: 0.353, gb: '5.0', streak: 'L3' },
                    { rank: 4, team: 'Green Bay Packers', wins: 9, losses: 8, pct: 0.529, gb: '2.0', streak: 'L1' }
                ],
                topPlayers: [
                    { name: 'Dak Prescott', position: 'QB', team: 'DAL', stat: '3,895', statType: 'YDS', tds: '24' },
                    { name: 'CJ Stroud', position: 'QB', team: 'HOU', stat: '4,108', statType: 'YDS', tds: '28' },
                    { name: 'Derrick Henry', position: 'RB', team: 'TEN', stat: '1,234', statType: 'YDS', tds: '12' },
                    { name: 'Micah Parsons', position: 'LB', team: 'DAL', stat: '14.0', statType: 'SACKS', tackles: '89' }
                ]
            },
            nba: {
                scores: [
                    {
                        home: { name: 'Memphis Grizzlies', logo: '🐻', score: 118, city: 'MEM' },
                        away: { name: 'San Antonio Spurs', logo: '🏀', score: 112, city: 'SAS' },
                        quarter: 'Final',
                        isLive: false,
                        arena: 'FedEx Forum'
                    },
                    {
                        home: { name: 'Dallas Mavericks', logo: '🐴', score: 105, city: 'DAL' },
                        away: { name: 'Houston Rockets', logo: '🚀', score: 98, city: 'HOU' },
                        quarter: '3Q - 5:23',
                        isLive: true,
                        arena: 'American Airlines Center'
                    }
                ],
                standings: [
                    { rank: 1, team: 'Denver Nuggets', wins: 42, losses: 28, pct: 0.600, gb: '-', streak: 'W3' },
                    { rank: 2, team: 'Memphis Grizzlies', wins: 38, losses: 32, pct: 0.543, gb: '4.0', streak: 'W1' },
                    { rank: 3, team: 'Dallas Mavericks', wins: 35, losses: 35, pct: 0.500, gb: '7.0', streak: 'W2' },
                    { rank: 4, team: 'Houston Rockets', wins: 33, losses: 37, pct: 0.471, gb: '9.0', streak: 'L1' },
                    { rank: 5, team: 'San Antonio Spurs', wins: 18, losses: 52, pct: 0.257, gb: '24.0', streak: 'L2' }
                ],
                topPlayers: [
                    { name: 'Luka Dončić', position: 'PG', team: 'DAL', stat: '33.2', statType: 'PPG', ast: '8.9' },
                    { name: 'Victor Wembanyama', position: 'C', team: 'SAS', stat: '21.8', statType: 'PPG', blk: '3.5' },
                    { name: 'Ja Morant', position: 'PG', team: 'MEM', stat: '27.1', statType: 'PPG', ast: '8.2' },
                    { name: 'Alperen Şengün', position: 'C', team: 'HOU', stat: '13.1', statType: 'PPG', ast: '7.2' }
                ]
            },
            ncaa: {
                scores: [
                    {
                        home: { name: 'Texas Longhorns', logo: '🤘', score: 24, city: 'TEX' },
                        away: { name: 'Oklahoma Sooners', logo: '🌪️', score: 17, city: 'OU' },
                        quarter: 'Final',
                        isLive: false,
                        stadium: 'Darrell K Royal Stadium'
                    }
                ],
                standings: [
                    { rank: 1, team: 'Texas Longhorns', wins: 12, losses: 1, pct: 0.923, gb: '-', streak: 'W8' },
                    { rank: 2, team: 'Oklahoma Sooners', wins: 9, losses: 4, pct: 0.692, gb: '3.0', streak: 'L1' },
                    { rank: 3, team: 'TCU Horned Frogs', wins: 8, losses: 5, pct: 0.615, gb: '4.0', streak: 'W2' },
                    { rank: 4, team: 'Baylor Bears', wins: 7, losses: 6, pct: 0.538, gb: '5.0', streak: 'L2' }
                ],
                topPlayers: [
                    { name: 'Quinn Ewers', position: 'QB', team: 'TEX', stat: '3,789', statType: 'YDS', tds: '31' },
                    { name: 'Bijan Robinson', position: 'RB', team: 'TEX', stat: '1,756', statType: 'YDS', tds: '18' },
                    { name: 'Dillon Gabriel', position: 'QB', team: 'OU', stat: '3,445', statType: 'YDS', tds: '28' },
                    { name: 'Eric Gray', position: 'RB', team: 'OU', stat: '1,289', statType: 'YDS', tds: '14' }
                ]
            }
        };

        let currentSport = 'mlb';
        let visionActive = false;
        let poseMetrics = {
            hipRotation: 0,
            shoulderTilt: 0,
            weightTransfer: 0,
            formScore: 100,
            confidence: 0
        };

        // Particle System
        let particles = [];
        let animationId;

        function initParticles() {
            const canvas = document.getElementById('heroCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            if (!ctx) return;

            // Use device pixel ratio for crisp rendering
            const dpr = window.devicePixelRatio || 1;
            canvas.width = window.innerWidth * dpr;
            canvas.height = window.innerHeight * dpr;
            canvas.style.width = window.innerWidth + 'px';
            canvas.style.height = window.innerHeight + 'px';
            ctx.scale(dpr, dpr);

            // Reduce particle count on mobile for better performance
            const particleCount = window.innerWidth < 768 ? 100 : 200;
            particles = [];
            
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * window.innerWidth,
                    y: Math.random() * window.innerHeight,
                    vx: (Math.random() - 0.5) * 1.5,
                    vy: (Math.random() - 0.5) * 1.5,
                    size: Math.random() * 4 + 1,
                    opacity: Math.random() * 0.8 + 0.2,
                    hue: Math.random() * 60 + 10
                });
            }

            function animate() {
                ctx.fillStyle = 'rgba(10, 10, 10, 0.05)';
                ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);

                particles.forEach(particle => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;

                    if (particle.x <= 0 || particle.x >= window.innerWidth) particle.vx *= -1;
                    if (particle.y <= 0 || particle.y >= window.innerHeight) particle.vy *= -1;

                    const gradient = ctx.createRadialGradient(
                        particle.x, particle.y, 0,
                        particle.x, particle.y, particle.size * 4
                    );
                    gradient.addColorStop(0, `hsla(${particle.hue}, 100%, 60%, ${particle.opacity})`);
                    gradient.addColorStop(1, `hsla(${particle.hue}, 100%, 20%, 0)`);

                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    ctx.fill();
                });

                // Draw connections
                ctx.strokeStyle = 'rgba(255, 107, 53, 0.1)';
                ctx.lineWidth = 0.5;

                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const p1 = particles[i];
                        const p2 = particles[j];
                        const distance = Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);

                        if (distance < 120) {
                            ctx.globalAlpha = 1 - distance / 120;
                            ctx.beginPath();
                            ctx.moveTo(p1.x, p1.y);
                            ctx.lineTo(p2.x, p2.y);
                            ctx.stroke();
                        }
                    }
                }

                ctx.globalAlpha = 1;
                animationId = requestAnimationFrame(animate);
            }

            animate();
        }

        // Vision AI Functions
        async function activateVisionAI() {
            try {
                // Check if getUserMedia is supported
                if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                    throw new Error('Camera access not supported in this browser');
                }

                const video = document.getElementById('video-feed');
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { 
                        width: { ideal: 640 }, 
                        height: { ideal: 480 },
                        facingMode: 'user'
                    }
                });

                video.srcObject = stream;
                video.style.display = 'block';
                document.querySelector('.vision-placeholder').style.display = 'none';
                document.getElementById('metrics-overlay').style.display = 'block';
                document.getElementById('biomechanics-panel').style.display = 'block';

                // Update control buttons
                const controls = document.getElementById('vision-controls');
                controls.innerHTML = '<button class="control-btn stop" onclick="stopVisionAI()" aria-label="Stop camera analysis">⏹️ Stop Analysis</button>';

                visionActive = true;

                // Simulate pose detection metrics with more realistic data
                const updateMetrics = () => {
                    if (!visionActive) return;

                    // More realistic biomechanical ranges
                    poseMetrics.hipRotation = Math.round(25 + Math.sin(Date.now() * 0.001) * 15);
                    poseMetrics.shoulderTilt = Math.round(12 + Math.cos(Date.now() * 0.0008) * 8);
                    poseMetrics.weightTransfer = Math.round(65 + Math.sin(Date.now() * 0.0012) * 20);
                    poseMetrics.formScore = Math.round(82 + Math.sin(Date.now() * 0.0005) * 12);
                    poseMetrics.confidence = Math.round(78 + Math.cos(Date.now() * 0.0015) * 15);

                    // Update DOM elements safely
                    const elements = {
                        'form-score': poseMetrics.formScore,
                        'confidence': poseMetrics.confidence,
                        'hip-rotation': poseMetrics.hipRotation + '°',
                        'shoulder-tilt': poseMetrics.shoulderTilt + '°',
                        'weight-transfer': poseMetrics.weightTransfer + '%',
                        'form-score-detail': poseMetrics.formScore + '%'
                    };

                    Object.entries(elements).forEach(([id, value]) => {
                        const element = document.getElementById(id);
                        if (element) {
                            element.textContent = value;
                        }
                    });

                    // Update form score color
                    const formScoreDetail = document.getElementById('form-score-detail');
                    if (formScoreDetail) {
                        formScoreDetail.style.color = poseMetrics.formScore > 85 ? '#39FF14' : poseMetrics.formScore > 75 ? '#FFA500' : '#FF6B35';
                    }

                    setTimeout(updateMetrics, 100);
                };

                updateMetrics();

            } catch (error) {
                console.error('Vision AI activation failed:', error);
                const errorMessage = error.message.includes('Permission denied') 
                    ? 'Camera access denied. Please enable camera permissions for pose detection.'
                    : 'Camera access not available. Please check your device and try again.';
                
                // Create user-friendly error display
                const placeholder = document.querySelector('.vision-placeholder');
                if (placeholder) {
                    placeholder.innerHTML = `
                        <div style="font-size: 2rem; margin-bottom: 1rem;" aria-hidden="true">⚠️</div>
                        <div>${errorMessage}</div>
                        <button onclick="activateVisionAI()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #FF4500; color: white; border: none; border-radius: 5px; cursor: pointer;">Try Again</button>
                    `;
                }
            }
        }

        function stopVisionAI() {
            try {
                const video = document.getElementById('video-feed');
                if (video && video.srcObject) {
                    video.srcObject.getTracks().forEach(track => {
                        track.stop();
                    });
                    video.srcObject = null;
                }

                if (video) {
                    video.style.display = 'none';
                }

                const placeholder = document.querySelector('.vision-placeholder');
                if (placeholder) {
                    placeholder.style.display = 'block';
                    placeholder.innerHTML = `
                        <div style="font-size: 3rem; margin-bottom: 1rem;" aria-hidden="true">📹</div>
                        <div>Click to activate pose detection</div>
                    `;
                }

                const metricsOverlay = document.getElementById('metrics-overlay');
                if (metricsOverlay) {
                    metricsOverlay.style.display = 'none';
                }

                const biomechanicsPanel = document.getElementById('biomechanics-panel');
                if (biomechanicsPanel) {
                    biomechanicsPanel.style.display = 'none';
                }

                // Reset control buttons
                const controls = document.getElementById('vision-controls');
                if (controls) {
                    controls.innerHTML = `
                        <button class="control-btn active" onclick="setVisionMode('pose_detection')" aria-pressed="true">Pose Detection</button>
                        <button class="control-btn" onclick="setVisionMode('form_analysis')" aria-pressed="false">Form Analysis</button>
                        <button class="control-btn" onclick="setVisionMode('character_read')" aria-pressed="false">Character Read</button>
                    `;
                }

                visionActive = false;
            } catch (error) {
                console.error('Error stopping vision AI:', error);
            }
        }

        function setVisionMode(mode) {
            try {
                // Update button states
                const buttons = document.querySelectorAll('#vision-controls .control-btn');
                buttons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.setAttribute('aria-pressed', 'false');
                });
                
                if (event && event.target) {
                    event.target.classList.add('active');
                    event.target.setAttribute('aria-pressed', 'true');
                }

                // Update mode-specific UI if needed
                console.log(`Vision mode switched to: ${mode}`);
            } catch (error) {
                console.error('Error setting vision mode:', error);
            }
        }

        // Sport switching
        function switchSport(sport) {
            try {
                if (!SPORTS_DATA[sport]) {
                    console.error(`Invalid sport: ${sport}`);
                    return;
                }

                currentSport = sport;

                // Update nav pills
                const navPills = document.querySelectorAll('.nav-pill');
                navPills.forEach(pill => {
                    pill.classList.remove('active');
                    pill.setAttribute('aria-selected', 'false');
                    pill.removeAttribute('aria-current');
                });
                
                if (event && event.target) {
                    event.target.classList.add('active');
                    event.target.setAttribute('aria-selected', 'true');
                    event.target.setAttribute('aria-current', 'page');
                }

                updateContent();
            } catch (error) {
                console.error('Error switching sport:', error);
            }
        }

        function updateContent() {
            try {
                const data = SPORTS_DATA[currentSport];
                if (!data) {
                    console.error(`No data found for sport: ${currentSport}`);
                    return;
                }

                // Update live scores
                if (data.scores) {
                    updateLiveScores(data.scores);
                }

                // Update standings
                if (data.standings) {
                    updateStandings(data.standings);
                }

                // Update top players
                if (data.topPlayers) {
                    updateTopPlayers(data.topPlayers);
                }

                // Update stats
                if (data.standings && data.standings.length > 0) {
                    const topTeam = data.standings[0];
                    const winPctElement = document.getElementById('winPct');
                    const teamRankElement = document.getElementById('teamRank');
                    const streakElement = document.getElementById('streak');
                    
                    if (winPctElement) {
                        winPctElement.textContent = topTeam.pct.toFixed(3);
                        winPctElement.setAttribute('aria-label', `${topTeam.pct.toFixed(1)} percent win rate`);
                    }
                    if (teamRankElement) {
                        teamRankElement.textContent = topTeam.rank + getSuffix(topTeam.rank);
                        teamRankElement.setAttribute('aria-label', `${topTeam.rank}${getSuffix(topTeam.rank)} place`);
                    }
                    if (streakElement) {
                        streakElement.textContent = topTeam.streak;
                        streakElement.setAttribute('aria-label', `Current streak: ${topTeam.streak}`);
                    }
                }
            } catch (error) {
                console.error('Error updating content:', error);
            }
        }

        function updateLiveScores(scores) {
            try {
                const container = document.getElementById('live-scores');
                if (!container || !scores || !Array.isArray(scores)) {
                    console.error('Invalid scores data or container not found');
                    return;
                }

                container.innerHTML = scores.map((game, index) => `
                    <div class="score-item" role="listitem" aria-label="Game ${index + 1}: ${game.away.name} vs ${game.home.name}">
                        <div class="team-info">
                            <span class="team-logo" aria-hidden="true">${game.away.logo}</span>
                            <div>
                                <div class="team-name">${game.away.name}</div>
                                <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">${game.away.city}</div>
                            </div>
                        </div>
                        <div class="score" aria-label="Away team score: ${game.away.score}">${game.away.score}</div>
                        <div style="text-align: center; color: rgba(255,255,255,0.8);">
                            <div style="margin-bottom: 0.5rem;" aria-hidden="true">@</div>
                            <div style="font-size: 0.875rem;">${game.inning || game.quarter}</div>
                            ${game.isLive ? '<div class="live-indicator" aria-label="Live game">LIVE</div>' : ''}
                        </div>
                        <div class="score" aria-label="Home team score: ${game.home.score}">${game.home.score}</div>
                        <div class="team-info">
                            <span class="team-logo" aria-hidden="true">${game.home.logo}</span>
                            <div>
                                <div class="team-name">${game.home.name}</div>
                                <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">${game.home.city}</div>
                            </div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Error updating live scores:', error);
            }
        }

        function updateStandings(standings) {
            try {
                const tbody = document.getElementById('standings-body');
                if (!tbody || !standings || !Array.isArray(standings)) {
                    console.error('Invalid standings data or container not found');
                    return;
                }

                tbody.innerHTML = standings.map((team, index) => {
                    const streakColor = team.streak.startsWith('W') ? '#00FF41' : '#DC143C';
                    const streakDescription = team.streak.startsWith('W') ? 'Winning streak' : 'Losing streak';
                    return `
                        <tr role="row" aria-label="Team ${team.team} ranked ${team.rank}">
                            <td style="font-weight: 900; color: #FFA500; font-size: 1.25rem;" role="cell" aria-label="Rank ${team.rank}">${team.rank}</td>
                            <td role="cell">${team.team}</td>
                            <td role="cell" aria-label="${team.wins} wins">${team.wins}</td>
                            <td role="cell" aria-label="${team.losses} losses">${team.losses}</td>
                            <td role="cell" aria-label="Win percentage ${team.pct.toFixed(3)}">${team.pct.toFixed(3)}</td>
                            <td role="cell" aria-label="${team.gb === '-' ? 'First place' : team.gb + ' games behind'}">${team.gb}</td>
                            <td style="color: ${streakColor}; font-weight: 600;" role="cell" aria-label="${streakDescription}: ${team.streak}">${team.streak}</td>
                        </tr>
                    `;
                }).join('');
            } catch (error) {
                console.error('Error updating standings:', error);
            }
        }

        function updateTopPlayers(players) {
            try {
                const container = document.getElementById('top-players');
                if (!container || !players || !Array.isArray(players)) {
                    console.error('Invalid players data or container not found');
                    return;
                }

                container.innerHTML = players.map((player, index) => `
                    <div class="player-card" role="listitem" aria-label="Player ${index + 1}: ${player.name}">
                        <div class="player-avatar" aria-hidden="true">${player.name.split(' ').map(n => n[0]).join('')}</div>
                        <div class="player-info">
                            <div class="player-name">${player.name}</div>
                            <div class="player-position">${player.position} • ${player.team}</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="player-stat" aria-label="${player.stat} ${player.statType}">${player.stat}</div>
                            <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">${player.statType}</div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Error updating top players:', error);
            }
        }

        function getSuffix(num) {
            const lastDigit = num % 10;
            const lastTwoDigits = num % 100;

            if (lastTwoDigits >= 11 && lastTwoDigits <= 13) return 'th';
            if (lastDigit === 1) return 'st';
            if (lastDigit === 2) return 'nd';
            if (lastDigit === 3) return 'rd';
            return 'th';
        }

        // Initialize app
        window.addEventListener('load', () => {
            try {
                initParticles();
                updateContent();

                // Generate heat map points
                const heatmap = document.getElementById('performance-heatmap');
                if (heatmap) {
                    for (let i = 0; i < 30; i++) {
                        const point = document.createElement('div');
                        point.className = 'heat-point';
                        point.style.left = Math.random() * 100 + '%';
                        point.style.top = Math.random() * 100 + '%';
                        const intensity = Math.random();
                        point.style.backgroundColor = `hsl(${20 - intensity * 20}, 100%, ${50 + intensity * 30}%)`;
                        point.setAttribute('aria-hidden', 'true');
                        heatmap.appendChild(point);
                    }
                }

                // Add keyboard navigation support
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Tab') {
                        document.body.classList.add('keyboard-navigation');
                    }
                });

                document.addEventListener('mousedown', () => {
                    document.body.classList.remove('keyboard-navigation');
                });

            } catch (error) {
                console.error('Error initializing app:', error);
            }
        });

        window.addEventListener('resize', () => {
            try {
                const canvas = document.getElementById('heroCanvas');
                if (canvas) {
                    const dpr = window.devicePixelRatio || 1;
                    canvas.width = window.innerWidth * dpr;
                    canvas.height = window.innerHeight * dpr;
                    canvas.style.width = window.innerWidth + 'px';
                    canvas.style.height = window.innerHeight + 'px';
                    
                    const ctx = canvas.getContext('2d');
                    if (ctx) {
                        ctx.scale(dpr, dpr);
                    }
                }
            } catch (error) {
                console.error('Error handling resize:', error);
            }
        });

        // Add error boundary for unhandled errors
        window.addEventListener('error', (event) => {
            console.error('Unhandled error:', event.error);
        });

        window.addEventListener('unhandledrejection', (event) => {
            console.error('Unhandled promise rejection:', event.reason);
        });
    </script>
</body>
</html>